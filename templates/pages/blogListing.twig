{% extends "index.twig" %}

{% set posts = craft.entries.section('blogPosts').all() %}

{% block main %}
    <section class="carousel-inner mb-5">
        <div class="carousel-item active">
            {% set image = entry.previewImage.one() %}
            {% if image %}
                {% set options = {
                    mode: 'crop',
                    height: 675,
                    width: 925,
                    quality: 75,
                    position: 'center-center'
                } %}
                <img src="{{ image.getUrl(options) }}" alt="" class="card-img-top img-fluid">
            {% endif %}
{#            <img src="https://via.placeholder.com/1500x600" width="100%" height="100%" alt="">#}
            <div class="container">
                <div class="carousel-caption text-center">
                    {# <p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p> #}
                </div>
            </div>
        </div>
    </section>
    <!-- SEARCH BAR -->
    <nav class="container navbar navbar-light bg-light d-flex justify-content-end">
        <form class="form-inline">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
    </nav>
    <!-- BLOG POSTS -->
    <div class="album py-5 bg-light">
        <div class="container">
            <div class="row row-cols-1 row-cols-md-2">
                {% for post in posts %}
                    <div class="col md-4 my-2 custom-hover">
                        <a href="{{ post.url }}" class="btn h-100">
                            <div class="card mb-2 shadow-sm">
                                {% set image = post.previewImage.one() %}
                                {% set altImage = '' %}
                                {% if image %}
                                    {% set options = {
                                        mode: 'crop',
                                        height: 300,
                                        width: 500
                                    } %}
                                    <img src="{{ image.getUrl(options) }}" alt="" class="img-fluid">
                                 {% else %}
                                     <img src="https://via.placeholder.com/" alt="">
                                {% endif %}
                                <div class="card-body">
                                    <h4 class="text-uppercase text-center font-weight-light mt-2">{{ post.title }}</h4>
                                    <p class="card-text text-secondary py-2 mx-4">{{ post.description }}.</p>
    {#                                <div class="">#}
    {#                                    <a href="{{ post.url }}" class="btn btn-lg btn-block">#}
    {#                                        <button type="button" class="btn btn-info btn-lg mt-2 px-5">#}
    {#                                            See Post!#}
    {#                                        </button>#}
    {#                                    </a>#}
    {#                                </div>#}
                                </div>
                            </div>
                        </a>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}